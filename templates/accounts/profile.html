{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block content %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<div class="container py-4">
  <div class="row">
    <div class="col-md-4 text-center">
      <img src="{% if user.profile.image %}{{ user.profile.image.url }}{% else %}/static/images/default.jpg{% endif %}" class="rounded-circle shadow" width="150" height="150" alt="Profile Picture">
      <h4 class="mt-3">{{ user.get_full_name|default:user.username }}</h4>
      <p class="text-muted">{{ user.email }}</p>
      {% if user.matric_no %}
        <p><strong>Matric No:</strong> {{ user.matric_no }}</p>
      {% endif %}
      <p><strong>Role:</strong> {{ user.role }}</p>
      <!-- <img src="/static/images/default.jpg" alt=""> -->
    </div>

    <div class="col-md-8">
      <div class="card shadow-sm">
        <div class="card-header bg-primary text-white fw-bold">Update Profile</div>
        <div class="card-body">
          <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            {{ user_form|crispy }}
            {{ profile_form|crispy }}
            <button type="submit" class="btn btn-success mt-3">ğŸ’¾ Save Changes</button>
            <a href="{% url 'home' %}" class="btn btn-secondary mt-3">â¬…ï¸ Back to Home</a>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
